# 1단계: 요구사항 정제

## 목표

사용자의 요구사항을 명확하게 이해하고, 구현 가능한 태스크로 분해합니다.

## 수행 절차

### 1. 요구사항 분석

사용자가 제공한 요구사항을 읽고 다음을 파악합니다:
- 무엇을 만들어야 하는가?
- 왜 필요한가? (목적)
- 어디에 적용되는가? (범위)

### 2. 불명확한 부분 식별

다음 항목들이 명확한지 확인합니다:

| 항목 | 확인 질문 |
|------|-----------|
| 입력 | 어떤 데이터가 들어오는가? 형식은? |
| 출력 | 결과물은 무엇인가? 형식은? |
| 에러 처리 | 실패 시 어떻게 처리하는가? |
| 엣지 케이스 | 특수한 상황은 어떻게 처리하는가? |
| 기존 코드 | 어디에 통합되는가? 영향 범위는? |
| 성능 | 성능 요구사항이 있는가? |
| 보안 | 민감한 데이터를 다루는가? |

### 3. 사용자에게 확인

불명확한 부분이 있으면 `AskUserQuestion` 도구로 질문합니다.

```
예시 질문:
- "로그인 실패 시 에러 메시지를 어떻게 표시할까요?"
- "API 응답 형식은 JSON으로 할까요?"
- "기존 UserService에 메서드를 추가하면 될까요?"
```

### 4. 반복

모든 것이 명확해질 때까지 2-3번을 반복합니다.

## 체크리스트

- [ ] 요구사항의 목적을 이해했는가?
- [ ] 입력/출력이 명확한가?
- [ ] 에러 처리 방식이 정해졌는가?
- [ ] 기존 코드와의 통합 방식이 명확한가?
- [ ] 애매한 부분을 모두 확인했는가?

## 주의사항

- **가정하지 말 것** - 애매하면 무조건 물어보기
- **과도한 질문 금지** - 핵심적인 것만 질문
- **맥락 파악** - 이미 대화에서 언급된 내용은 다시 묻지 않기
